"use strict";var form=document.querySelector("#task-form"),taskList=document.querySelector(".collection"),clearBtn=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");function loadEventListeners(){document.addEventListener("DOMContentLoaded",getTasks),form.addEventListener("submit",addTask),taskList.addEventListener("click",removeTask),clearBtn.addEventListener("click",clearTasks),filter.addEventListener("keyup",filterTasks)}function getTasks(){(null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(task){var li=document.createElement("li");li.className="collection-item",li.appendChild(document.createTextNode(task));var link=document.createElement("a");link.className="delete-item secondary-content",link.innerHTML='<i class="fas fa-times"></i>',li.appendChild(link),taskList.appendChild(li)})}function addTask(e){""===taskInput.value&&alert("Add a task");var li=document.createElement("li");li.className="collection-item",li.appendChild(document.createTextNode(taskInput.value));var link=document.createElement("a");link.className="delete-item secondary-content",link.innerHTML='<i class="fas fa-times"></i>',li.appendChild(link),taskList.appendChild(li),storeTaskInLocalStorage(taskInput.value),taskInput.value="",e.preventDefault()}function storeTaskInLocalStorage(task){var tasks=void 0;(tasks=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).push(task),localStorage.setItem("tasks",JSON.stringify(tasks))}function removeTask(e){e.target.parentElement.classList.contains("delete-item")&&confirm("Are You Sure?")&&(e.target.parentElement.parentElement.remove(),removeTaskFromLocalStorage(e.target.parentElement.parentElement))}function removeTaskFromLocalStorage(taskItem){var tasks=void 0;(tasks=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(task,index){taskItem.textContent===task&&tasks.splice(index,1)}),localStorage.setItem("tasks",JSON.stringify(tasks))}function clearTasks(){for(;taskList.firstChild;)taskList.removeChild(taskList.firstChild);clearTasksFromLocalStorage()}function clearTasksFromLocalStorage(){localStorage.clear()}function filterTasks(e){var text=e.target.value.toLowerCase();document.querySelectorAll(".collection-item").forEach(function(task){-1!=task.firstChild.textContent.toLowerCase().indexOf(text)?task.style.display="block":task.style.display="none"})}loadEventListeners();